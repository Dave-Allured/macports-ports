# -*- coding: utf-8; mode: tcl; tab-width: 4; indent-tabs-mode: nil; c-basic-offset: 4 -*- vim:fenc=utf-8:ft=tcl:et:sw=4:ts=4:sts=4

PortSystem          1.0
PortGroup           gitlab 1.0
PortGroup           meson 1.0

##PortGroup           legacysupport 1.1

# CLOCK_MONOTONIC
##legacysupport.newest_darwin_requires_legacy 15

gitlab.instance     {https://gitlab.freedesktop.org}
gitlab.setup        wayland wayland 1.24.0
epoch               1
revision            0

categories          devel graphics
license             MIT
maintainers         nomaintainer
description         Core Wayland protocol and libraries
long_description    ${description}

checksums           rmd160  2a0876c8802ec7c1cec7a2ded2afa374fa340a7f \
                    sha256  ef9224f1a8b6dbd3049a2e51a547abb7e89612414c192a4349f3c83c7f553672 \
                    size    277178

# Freedesktop Wayland uses meson build.

depends_build-append \
                    path:bin/pkg-config:pkgconfig

depends_lib-append  port:epoll-shim \
                    port:expat \
                    port:libffi \
                    port:libxml2

# stdatomic.h
compiler.c_standard 2011

configure.args-append \
                    -Ddocumentation=false \
                    -Ddtd_validation=true \
                    -Dlibraries=true \
                    -Dscanner=true \
                    -Dtests=true

##test.run            yes

##github.livecheck.branch darwin-portability
